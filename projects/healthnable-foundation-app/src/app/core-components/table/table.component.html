<table mat-table [dataSource]="dataSource" style="width: 90%;" matSort>
    @for(data of displayedColumns; track data){
    <ng-container>
        <ng-container [matColumnDef]="data">
            @switch (data) { @case ('action') {
            <th mat-header-cell *matHeaderCellDef>{{ 'gridList.action' | translate }}</th>
            <td mat-cell *matCellDef="let element">
                <button [matMenuTriggerFor]="actionMenu"><i class="material-icons">more_horiz</i></button>
                <mat-menu #actionMenu="matMenu" class="cardWithShadow">
                    <button mat-menu-item (click)="copy(element); $event.stopPropagation()">Copy/Clone Attribute</button>
                    <button mat-menu-item (click)="editItem(element); $event.stopPropagation()">Edit</button>
                    <button mat-menu-item (click)="removeItem(element); $event.stopPropagation()">Delete</button>

                </mat-menu>
            </td>
            } @case ('templateaction') {
            <th mat-header-cell *matHeaderCellDef> {{ 'gridList.action' | translate }} </th>
            <td mat-cell *matCellDef="let element">
                <button [matMenuTriggerFor]="actionMenu"><i class="material-icons">more_horiz</i></button>
                <mat-menu #actionMenu="matMenu" class="cardWithShadow">
                    <button mat-menu-item (click)="copy(element); $event.stopPropagation()">Copy/Clone Template</button>
                    <button mat-menu-item (click)="editItem(element); $event.stopPropagation()">Edit</button>
                    <button mat-menu-item (click)="removeItem(element); $event.stopPropagation()">Delete</button>

                </mat-menu>
            </td>
            } @case ('bothaction') {
            <th mat-header-cell *matHeaderCellDef> {{ 'gridList.action' | translate }} </th>
            <td mat-cell *matCellDef="let element">
                <button [matMenuTriggerFor]="actionMenu" (click)="$event.stopPropagation()"><i class="material-icons">more_horiz</i></button>
                <mat-menu #actionMenu="matMenu" class="cardWithShadow">

                    <button mat-menu-item (click)="editItem(element)">Edit</button>
                    <button mat-menu-item (click)="removeItem(element)">Delete</button>

                </mat-menu>
            </td>
            } @case ('alertColor') {
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
                {{ 'gridList.alertColor' | translate }}
            </th>
            <td mat-cell *matCellDef="let element">
                <span class="color-dot" [ngStyle]="{ 'background-color': element.alertColor?.toLowerCase() || 'transparent' }"></span>

            </td>
            } @default {
            <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ 'gridList.' + data | translate }} </th>
            @if(tableName!=='dashboard'){

            <td mat-cell *matCellDef="let element">
                <div class='matTableDataCollapse'> {{element[data]}} </div>
            </td>
            } @else{
            <td mat-cell *matCellDef="let element" style="cursor:pointer">
                <div class='matTableDataCollapse'> {{element[data]}} </div>
            </td>
            } } }
        </ng-container>
    </ng-container>
    }
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    @if(tableName === 'workflow' || tableName === 'organization' || tableName =='floor' || tableName=='bed' || tableName =='ward' || tableName=='nurse' || tableName=='room') {
    <tr mat-row matTooltip="Click on the row to view" style="cursor: pointer;" (click)="viewItem(row,i)" [class.selected-row]="selectedRowIndex === i" *matRowDef="let row;let i = index; columns: displayedColumns;"></tr>
    } @else{
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    }
</table>
<p class="mt-3 text-center">{{!isDataExist ? 'No data found' : ''}}</p>

@if (pageInformation) {
<mat-paginator [pageSizeOptions]="[5, 10, 20, 50]" (page)="onPaginateChange($event)" [pageSize]="pageInformation.limit" [length]="pageInformation.total_items" showFirstLastButtons aria-label="Select page elements">
</mat-paginator>
} @else if(tableName!='userDashboard'){
<mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page">
</mat-paginator>
}